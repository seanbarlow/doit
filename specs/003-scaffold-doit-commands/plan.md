# Implementation Plan: Scaffold Doit Commands

**Branch**: `003-scaffold-doit-commands` | **Date**: 2026-01-09 | **Spec**: [spec.md](spec.md)
**Input**: Feature specification from `/specs/003-scaffold-doit-commands/spec.md`

**Note**: This plan was generated by the `/doit.plan` command.

## Summary

Rename `.specify/` to `.doit/`, remove unused templates, create command templates for all 9 doit commands, and update the scaffold command to generate these commands in new projects. This establishes consistent naming and enables immediate doit workflow usage in scaffolded projects.

## Technical Context

**Language/Version**: Markdown (command definitions), Bash 5.x (scripts)
**Primary Dependencies**: Claude Code slash command system
**Storage**: File-based (markdown templates)
**Testing**: Manual verification via quickstart commands
**Target Platform**: macOS, Linux, Windows (via bash/powershell)
**Project Type**: CLI tooling / template system
**Performance Goals**: N/A (file operations)
**Constraints**: Must maintain backwards compatibility documentation
**Scale/Scope**: 50 files to update, 9 command templates to create

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

**Status**: PASS - Constitution is template-based, no specific constraints violated.

- No new dependencies introduced
- No architectural changes
- File reorganization only
- Consistent with existing patterns

## Project Structure

### Documentation (this feature)

```text
specs/003-scaffold-doit-commands/
├── plan.md              # This file
├── research.md          # Research findings (complete)
├── quickstart.md        # Verification commands (complete)
├── checklists/
│   └── requirements.md  # Acceptance criteria tracking
└── tasks.md             # Implementation tasks (next: /doit.tasks)
```

### Source Code Changes

```text
# BEFORE
.specify/
├── memory/
│   ├── constitution.md
│   └── roadmap_completed.md
├── scripts/
│   └── bash/
│       ├── check-prerequisites.sh
│       ├── common.sh
│       ├── create-new-feature.sh
│       ├── setup-plan.sh
│       └── update-agent-context.sh
└── templates/
    ├── agent-file-template.md    # REMOVE
    ├── checklist-template.md     # REMOVE
    ├── plan-template.md          # KEEP
    ├── spec-template.md          # KEEP
    └── tasks-template.md         # KEEP

# AFTER
.doit/
├── memory/
│   ├── constitution.md
│   └── roadmap_completed.md
├── scripts/
│   └── bash/
│       ├── check-prerequisites.sh
│       ├── common.sh
│       ├── create-new-feature.sh
│       ├── setup-plan.sh
│       └── update-agent-context.sh
└── templates/
    ├── commands/                  # NEW
    │   ├── doit.checkin.md
    │   ├── doit.constitution.md
    │   ├── doit.implement.md
    │   ├── doit.plan.md
    │   ├── doit.review.md
    │   ├── doit.scaffold.md
    │   ├── doit.specify.md
    │   ├── doit.tasks.md
    │   └── doit.test.md
    ├── plan-template.md
    ├── spec-template.md
    └── tasks-template.md
```

**Structure Decision**: File reorganization with folder rename. No new source code directories.

## Implementation Phases

### Phase 1: Folder Rename (FR-005)

1. Rename `.specify/` to `.doit/`
2. Update all internal references within `.doit/`

### Phase 2: Update References (~50 files)

Files requiring `.specify` → `.doit` updates:

| Category | Count | Files |
|----------|-------|-------|
| Doit Commands | 9 | `.claude/commands/doit.*.md` |
| Bash Scripts | 5 | `.doit/scripts/bash/*.sh` |
| Root Scripts | 8 | `scripts/bash/*.sh`, `scripts/powershell/*.ps1` |
| Documentation | 8 | `README.md`, `docs/*.md`, etc. |
| Templates | 3 | `.doit/templates/*.md` |
| Legacy | 6 | `templates/commands/*.md` |
| Source | 1 | `src/specify_cli/__init__.py` |
| Specs | ~10 | Historical spec files |

### Phase 3: Template Cleanup (FR-003)

Remove unused templates:
- `.doit/templates/agent-file-template.md`
- `.doit/templates/checklist-template.md`

### Phase 4: Command Templates (FR-001, FR-004)

1. Create `.doit/templates/commands/` directory
2. Copy all 9 commands from `.claude/commands/` as templates
3. Review templates for any project-specific paths that need templating

### Phase 5: Scaffold Enhancement (FR-002)

Update `doit.scaffold.md` to:
1. Create `.claude/commands/` in target project
2. Copy command templates from `.doit/templates/commands/`
3. Document new capability

## Complexity Tracking

> No constitution violations - simple file reorganization.

| Change | Justification |
|--------|---------------|
| Folder rename | Consistent naming with doit commands |
| 50 file updates | Required for rename - automated via sed/grep |
| 9 command templates | Enables scaffold to generate complete workflow |

## Artifacts Generated

- [x] research.md - All unknowns resolved
- [x] quickstart.md - Verification commands ready
- [ ] tasks.md - Next: run `/doit.tasks`

## Next Steps

Run `/doit.tasks` to generate implementation tasks from this plan.
